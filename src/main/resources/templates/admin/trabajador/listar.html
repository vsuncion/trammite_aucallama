<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<!-- CABECERA  PLANTILLA-->
<head th:replace="loyout/plantilla :: html_cabecera">
</head>
<body>

	<div class="wrapper">

		<!-- MENU PLANTILLA -->
		<nav th:replace="loyout/plantilla :: html_menu"></nav>

		<!-- CONTENIDO PLANTILLA -->
		<div id="content">
			<nav class="navbar navbar-expand-lg navbar-light bg-light"
				th:replace="loyout/plantilla :: html_submenu"></nav>

			<!-- CONTENIDO EDITABLE INICIO-->
			<div class="rows">

				<div class="card text-center">
					<div class="card-body">
						<h5 class="card-title">TRABAJADORES</h5>

 
						<div class="card text-left">
							<div class="card-body">
								<form name="persona" id="persona" th:object="${persona}" th:action="@{/admin/mantenimiento/buscarTrabajadorPersona}"  method="post">


									 <div class="form-group row">
									    <label for="staticEmail" class="col-sm-1 col-form-label">TIPO</label>
									    <div class="col-sm-3 text-left">
									       <select id="NCBTIPOCRITERIO" name="NCBTIPOCRITERIO" th:field="*{NCBTIPOCRITERIO}" class="form-control"> 
										      <option th:each="i : ${cbCriterioBusqueda}" th:value="${i.codigo}" th:text="${i.etiqueta}"></option>
										      </select>
									    </div>
									    
									    <label for="CAJABUSQUEDA" class="col-sm-1 text-right col-form-label">VALOR</label>
									    <div class="col-sm-3 text-left">
									      <input  type="text"  onkeyup="javascript:this.value=this.value.toUpperCase();" class="form-control" id="CAJABUSQUEDA" name="CAJABUSQUEDA" th:field="*{CAJABUSQUEDA}" placeholder="Ingrese Criterio Busqueda">
									    </div>
									    
									     <div class="col-sm-2">
									       <button type="submit" class="btn btn-outline-primary">
												<i class="fas fa-search"></i> BUSCAR
											</button>
									     </div>
									     
									     
									      <div class="col-sm-2 text-right">
											 <a class="btn btn-outline-primary" th:href="@{/admin/mantenimiento/nuevoTranbajador}" 
												role="button"><i class="far fa-file"></i> NUEVO</a>  
											</div>
									       
									    
									  </div>

								</form>
							</div>
						</div>


					</div>
				</div>


				<div class="card">
					<h5 class="card-header">LISTA DE ESTADOS DE TRABAJADORES</h5>
					<div class="card-body">
						<table class="table table-hover" id="listaTrabajadores">
							<thead>
								<tr>
									<th scope="col">ITEM</th>
									<th scope="col">NOMBRE</th> 
									<th scope="col">TIPO</th>
									<th scope="col">NUMERO</th>
									<!--  <th scope="col">INGRESO</th> -->
									<th scope="col">CARGO</th>
									<th scope="col">OFICINA</th>
									<th scope="col">ESTADO</th>
									<th scope="col">ACTUALIZAR</th>
									<th scope="col">ELIMINAR</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<tr th:each="i : ${listaTrabajadorPersona}" >
									<th scope="row"><span th:text="${i.NITEM}"></span></th>
								    <td><span  th:text="${i.NOMBRE_COMPLETO}"></span></td>
								    <td><span  th:text="${i.VTIPO_DOC_REGISTRO}"></span></td>
								    <td><span  th:text="${i.VNUMERODOC}"></span></td>
								   <!-- <td><span  th:text="${i.DFECINGRESO}"></span></td> -->
								    <td><span  th:text="${i.VNOMBRECARGO}"></span></td>
								    <td><span  th:text="${i.VNOMBRE_OFICINA}"></span></td>
								    <td><span  th:text="${i.VESTADO}"></span></td> 
								    <td><a th:href="@{/admin/mantenimiento/editarTrabajadorPersona?IDTRABAJADOR=} + ${i.NIDTRABAJADORPK}+'&IDPERSONA='+${i.NIDPERSONAPK}" class="btn btn-outline-primary" role="button"><i class="fas fa-edit"></i></a></td>
									<td><a th:href="@{/admin/mantenimiento/eliminarTrabajadorPersona?id=} + ${i.NIDTRABAJADORPK}" class="btn btn-outline-primary" role="button" th:onclick="return funeliminartag(this,[[${i.NOMBRE_COMPLETO}]])"><i class="far fa-trash-alt"></i></a></td>
								</tr>
								 
							</tbody>
						</table>
					</div>
				</div>



			</div>

			<!-- CONTENIDO EDITABLE FIN-->

		</div>

	</div>

  
	<div th:replace="loyout/plantilla :: html_scrip"></div>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
	<script th:src="@{/js/sweetAlert.js}" type="text/javascript"></script>
	<script type="text/javascript">
		$('#listaTrabajadores').paginate({ 
			limit: 10,
			initialPage: 0,
			previous: true, 
			previousText: 'Anterior',
			next: true,
			nextText: 'Siguiente',
			optional: false
			});
	</script>
</body>
</html>